!function(t,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.svgChart=i():t.svgChart=i()}(this,(()=>(()=>{"use strict";var t={d:(i,e)=>{for(var s in e)t.o(e,s)&&!t.o(i,s)&&Object.defineProperty(i,s,{enumerable:!0,get:e[s]})},o:(t,i)=>Object.prototype.hasOwnProperty.call(t,i),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},i={};t.r(i),t.d(i,{SvgChart:()=>ut});const e="http://www.w3.org/2000/svg",s=/[A-Z]/g,n="svg-chart-";function a(t,i={},n=null){var a=document.createElementNS(e,t);return Object.keys(i).forEach((function(t){null!==i[t]&&("className"===t?i[t]&&a.classList.add(...i[t].trim().split(" ")):a.setAttribute(t.replace(s,"-$&").toLowerCase(),i[t]))})),n&&a.appendChild(n),a}function r(t,i){for(var e=t;e&&e.nodeName.toLowerCase()!==i.toLowerCase();)e=e.parentNode;return e}function o(t){return n+t}function h(t,i,e,s){if(e){const e=i.length;for(let n=0;n<e;n++)s.call(t,i[n],n,i)}else{const e=i.length-1;for(let n=e;n>=0;n--)s.call(t,i[n],e-n,i)}}function l(t,i,e,s){var n=(s-90)*Math.PI/180;return{x:t+e*Math.cos(n),y:i+e*Math.sin(n)}}const d={dutchFieldColorPalette:["#e60049","#0bb4ff","#50e991","#e6d800","#9b19f5","#ffa300","#dc0ab4","#b3d4ff","#00bfa0"],retroMetroColorPalette:["#ea5545","#f46a9b","#ef9b20","#edbf33","#ede15b","#bdcf32","#87bc45","#27aeef","#b33dc6"],riverNightsColorPalette:["#b30000","#7c1158","#4421af","#1a53ff","#0d88e6","#00b7c7","#5ad45a","#8be04e","#ebdc78"],springPastelsColorPalette:["#fd7f6f","#7eb0d5","#b2e061","#bd7ebe","#ffb55a","#ffee65","#beb9db","#fdcce5","#8bd3c7"]};class c{constructor(t){if(new.target===c)throw new Error("Controller class cannot be directly instanstiated.");this.svgChart=t,this.config=this.svgChart.config}draw(t){this.drawStart(t),this.config.series.forEach(((i,e)=>{const s=a("g",{dataSerie:i.id,className:this.svgChart.unselectedSeries[i.id]?o("unselected"):""});this.drawSerie(i,e,s),t.appendChild(s)})),this.drawEnd(t)}drawStart(t){}drawEnd(t){}drawSerie(t,i,e){}configBefore(){}configAfter(){}configSerieBefore(t){}configSerieAfter(t){}}c.requiredConfigWithValue={};var g,f,u,p,x,m,C,v=function(t,i,e,s){if("a"===e&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!s:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?s:"a"===e?s.call(t):s?s.value:i.get(t)},b=function(t,i,e,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!n:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,e):n?n.value=e:i.set(t,e),e};class A{constructor(t){g.add(this),f.set(this,null),u.set(this,null),this.svgChart=t,this.config=t.config}addYAxisGrid(){for(var t=a("g",{className:o("y-axis-group")}),i=this.config.minValue,e=this.config.minValue;i<=this.config.maxValue||e<=this.config.maxValue;){if(this.config.yAxisGrid&&i<=this.config.maxValue){let e=this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight-i*this.svgChart.lineAndBarValueHeight;t.appendChild(a("line",{x1:this.config.padding.left,y1:e,x2:this.config.padding.left+this.svgChart.chartWidth+2*this.config.xAxisGridPadding,y2:e,className:o("y-axis-grid-line"),stroke:this.config.yAxisGridLineColor||"",strokeWidth:this.config.yAxisGridLineWidth||"",strokeDasharray:this.config.yAxisGridLineDashArray||""}))}if(i+=this.config.yAxisStep,this.config.yAxisLabels&&e<=this.config.maxValue){let i=this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight-e*this.svgChart.lineAndBarValueHeight;t.appendChild(a("text",{direction:this.config.dir,x:this.svgChart.isLTR?this.config.padding.left-10:this.config.padding.left+this.svgChart.chartWidth+10,y:i,textAnchor:"end",dominantBaseline:"middle",fontFamily:this.config.fontFamily||"",fontSize:this.config.axisLabelFontSize||"",className:o("y-axis-label"),fill:this.config.yAxisLabelColor||""},document.createTextNode(e.toString())))}e+=this.config.yAxisLabelStep}this.svgChart.svg.appendChild(t)}addXAxisLabels(t){var i=a("g"),e=a("g",{className:o("x-axis-label-group-current")}),s=this.config.xAxisGridColumnsSelectable?a("g"):null;h(this,this.svgChart.data.xAxis.columns,this.svgChart.isLTR,(function(n,r){if(this.config.xAxisGrid){const e=this.config.padding.left+this.config.xAxisGridPadding+r*t;0!==r&&(r+0)%this.config.xAxisStep!=0||v(this,g,"m",p).call(this,i,e),this.config.xAxisGridColumnsSelectable&&s.appendChild(a("rect",{x:e,y:this.config.padding.top+this.config.yAxisGridPadding,width:t,height:this.svgChart.chartHeight,className:o("x-axis-grid-column-selectable"),fillOpacity:0,fill:this.config.xAxisGridColumnsSelectableColor}))}if(this.config.xAxisLabels&&(r+0)%this.config.xAxisLabelStep==0){var h=a("g",{transform:`translate(${this.config.padding.left+this.config.xAxisGridPadding+r*t+(this.config.xAxisGridColumns?t/2:0)} ${this.svgChart.chartHeight+this.config.padding.top+2*this.config.yAxisGridPadding+this.config.xAxisLabelTop})`});h.appendChild(a("text",{direction:this.config.dir,textAnchor:this.config.textAnchorXAxisLabels||"middle",dominantBaseline:"hanging",fontFamily:this.config.fontFamily||"",fontSize:this.config.axisLabelFontSize||"",fontWeight:"normal",fill:this.config.xAxisLabelColor||"",tabindex:this.config.xAxisGridColumnsSelectable?0:null,className:o("x-axis-label")+" "+(this.config.xAxisGridColumnsSelectable?o("x-axis-grid-column-selectable-label"):""),transform:`rotate(${this.config.xAxisLabelRotation})`},document.createTextNode(n.toString()))),e.appendChild(h)}})),this.config.xAxisGrid&&this.config.xAxisGridColumns&&v(this,g,"m",p).call(this,i,this.config.padding.left+this.config.xAxisGridPadding+this.svgChart.data.xAxis.columns.length*t),this.svgChart.xAxisGroupElement.appendChild(i),this.config.xAxisGridColumnsSelectable&&this.svgChart.xAxisGridColumnsSelectableGroupElement.appendChild(s),this.svgChart.xAxisLabelsGroupElement.appendChild(e)}addXAxisTitle(){var t=this.svgChart.isLTR?this.svgChart.width-this.config.padding.right-this.config.xAxisGridPadding:this.config.padding.left;this.svgChart.svg.appendChild(a("text",{direction:this.config.dir,x:t,y:this.svgChart.height-(null!==this.config.xAxisTitleBottom?this.config.xAxisTitleBottom:this.config.paddingDefault),textAnchor:"end",dominantBaseline:"auto",fontFamily:this.config.fontFamily||"",fontSize:this.config.axisTitleFontSize||"",fill:this.config.xAxisTitleColor||"",className:o("text-x-axis-title")},document.createTextNode(this.config.xAxisTitle)))}addYAxisTitle(){var t,i=a("g");t=this.svgChart.isLTR?this.config.yAxisTitleStart?this.config.yAxisTitleStart:this.config.paddingDefault:this.config.yAxisTitleStart?this.svgChart.width-this.config.yAxisTitleStart:this.svgChart.width-this.config.paddingDefault,i.setAttribute("transform","translate("+t+", "+(this.config.padding.top+this.config.yAxisGridPadding)+")");var e=a("text",{direction:this.config.dir,textAnchor:"end",dominantBaseline:"hanging",fontFamily:this.config.fontFamily||"",fontSize:this.config.axisTitleFontSize||"",fill:this.config.yAxisTitleColor||"",className:o("text-y-axis-title")},document.createTextNode(this.config.yAxisTitle));e.setAttribute("transform",this.svgChart.isLTR?"rotate(-90)":"rotate(90)"),i.appendChild(e),this.svgChart.svg.appendChild(i)}addXAxisLabelsGroup(){this.svgChart.xAxisLabelsGroupElement=a("g",{className:o("x-axis-label-group")}),this.config.xAxisGridColumnsSelectable&&(v(this,f,"f")||(b(this,f,v(this,g,"m",x).bind(this),"f"),b(this,u,v(this,g,"m",C).bind(this),"f")),this.svgChart.addEventListener(this.svgChart.xAxisLabelsGroupElement,"click",v(this,f,"f"),!1),this.svgChart.addEventListener(this.svgChart.xAxisLabelsGroupElement,"keydown",v(this,u,"f"),!1),this.svgChart.xAxisGridColumnsSelectableGroupElement=this.svgChart.svg.appendChild(a("g",{className:o("x-axis-columns-selectable-group")}))),this.svgChart.svg.appendChild(this.svgChart.xAxisLabelsGroupElement)}}function y(t,i,e){t.xAxisGroupElement.firstChild&&t.xAxisGroupElement.removeChild(t.xAxisGroupElement.firstChild),t.config.xAxisGridColumnsSelectable&&t.xAxisGridColumnsSelectableGroupElement.firstChild&&t.xAxisGridColumnsSelectableGroupElement.firstChild.remove(),t.xAxisLabelsGroupElement.firstChild&&t.xAxisLabelsGroupElement.removeChild(t.xAxisLabelsGroupElement.firstChild);const s=t.config.xAxisGridColumns?t.chartWidth/t.data.xAxis.columns.length:t.chartWidth/(t.data.xAxis.columns.length-1);t.columnWidth=s,i.addXAxisLabels(s)}function w(t,i){t.lineAndBarSelectedColumnIndex=null,t.lineAndBarValueHeight=t.chartHeight/t.config.maxValue,t.barCountPerColumn=t.config.barStacked?1:0,t.config.yAxisGrid&&i.addYAxisGrid(),t.config.xAxisTitle&&i.addXAxisTitle(),t.config.yAxisTitle&&i.addYAxisTitle(),t.config.xAxisLabels&&i.addXAxisLabelsGroup(),t.xAxisGroupElement=t.svg.appendChild(a("g",{className:o("x-axis-group")}))}f=new WeakMap,u=new WeakMap,g=new WeakSet,p=function(t,i){t.appendChild(a("line",{x1:i,y1:this.config.padding.top,x2:i,y2:this.svgChart.chartHeight+this.config.padding.top+2*this.config.yAxisGridPadding,className:o("x-axis-grid-line"),stroke:this.config.xAxisGridLineColor||"",strokeWidth:this.config.xAxisGridLineWidth||"",strokeDasharray:this.config.xAxisGridLineDashArray||""}))},x=function(t){v(this,g,"m",m).call(this,t.target)},m=function(t){for(var i=this.svgChart.xAxisLabelsGroupElement.querySelectorAll("text."+o("x-axis-grid-column-selectable-label")),e=this.svgChart.xAxisGridColumnsSelectableGroupElement.querySelectorAll("rect."+o("x-axis-grid-column-selectable")),s=0;s<i.length;s++)i[s]===t?(this.svgChart.lineAndBarSelectedColumnIndex=s,i[s].classList.add(o("selected")),i[s].setAttribute("font-weight","bold"),e[s].classList.add(o("selected")),e[s].setAttribute("fill-opacity",this.svgChart.config.xAxisGridSelectedColumnOpacity.toString()),this.config.onXAxisLabelGroupSelect&&this.config.onXAxisLabelGroupSelect(this.svgChart,this.svgChart.lineAndBarSelectedColumnIndex)):(i[s].classList.remove(o("selected")),e[s].classList.remove(o("selected")),e[s].setAttribute("fill-opacity","0"),i[s].setAttribute("font-weight","normal"))},C=function(t){"Enter"===t.key&&v(this,g,"m",m).call(this,t.target)};var S,G,T,L,E,k=function(t,i,e,s){if("a"===e&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!s:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?s:"a"===e?s.call(t):s?s.value:i.get(t)};class P extends c{constructor(t){super(t),S.add(this),G.set(this,null),function(t,i,e,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!n:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?n.call(t,e):n?n.value=e:i.set(t,e)}(this,G,new A(t),"f")}drawSerie(t,i,e){var s=[[]],n=[];h(this,this.svgChart.data.series[t.id],this.svgChart.isLTR,(function(t,i,e){var a=this.config.padding.left+this.config.xAxisGridPadding+i*this.svgChart.columnWidth+(this.config.xAxisGridColumns?this.svgChart.columnWidth/2:0),r=this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight-t*this.svgChart.lineAndBarValueHeight;null===t?s[s.length-1].length>0&&i+1<e.length&&s.push([]):(s[s.length-1].push({x:a,y:r,value:t}),n.push({x:a,y:r,value:t}))}));var r=[];if(this.config.connectNullValues){let t=this.config.lineCurved?k(this,S,"m",T).call(this,n):k(this,S,"m",E).call(this,n);t.length>0&&r.push(t)}else s.forEach((t=>{if(t.length>0){let i=this.config.lineCurved?k(this,S,"m",T).call(this,t):k(this,S,"m",E).call(this,t);i.length>0&&r.push(i)}}));r.forEach((s=>{e.appendChild(a("path",{d:s.join(" "),fill:this.config.lineChartFilled?this.svgChart.getSerieFill(t,i):"none",fillOpacity:.4,stroke:this.svgChart.getSerieStrokeColor(t,i),strokeWidth:this.config.lineWidth||"",className:o("line")}))})),this.config.points&&n.forEach((s=>{e.appendChild(a("circle",{cx:s.x,cy:s.y,r:this.config.pointRadius,zIndex:1,fill:this.svgChart.getSeriePointColor(t,i),stroke:this.svgChart.getSeriePointColor(t,i),dataValue:s.value,className:o("line-point"),tabindex:this.config.focusedValueShow?0:null}))}))}drawStart(t){y(this.svgChart,k(this,G,"f"))}configBefore(){super.configBefore(),w(this.svgChart,k(this,G,"f"))}}G=new WeakMap,S=new WeakSet,T=function(t){let i=["M "+t[0].x+" "+t[0].y];for(var e=0;e<t.length-1;e++){var s=(t[e].x+t[e+1].x)/2,n=(t[e].y+t[e+1].y)/2,a=(s+t[e].x)/2,r=(s+t[e+1].x)/2;i.push(`Q ${a} ${t[e].y}, ${s} ${n}`),i.push(`Q ${r} ${t[e+1].y} ${t[e+1].x} ${t[e+1].y}`)}return k(this,S,"m",L).call(this,i,t),i},L=function(t,i){this.config.lineChartFilled&&i.length>1&&(t.push(`L ${i[i.length-1].x} ${this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight}`),t.push(`L ${i[0].x} ${this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight}`),t.push(`L ${i[0].x} ${i[0].y}`),t.push("Z"))},E=function(t){let i=[];return t.forEach((function(t,e){0===e?i.push(`M ${t.x} ${t.y}`):i.push(`L ${t.x} ${t.y}`)})),k(this,S,"m",L).call(this,i,t),i};class W{constructor(){this.dir=W.directions.ltr,this.series=null,this.title=null,this.chartType=null,this.onXAxisLabelGroupSelect=null,this.padding={start:40,end:20,top:100,bottom:40,left:40,right:20},this.paddingDefault=20,this.legendWidth=10,this.focusedValueShow=!0,this.focusedValueFill="black",this.focusedValueColor="white",this.focusedValuePadding=6,this.drawOnConfig=null,this.drawOnData=null,this.transition=!0,this.backgroundColor="white",this.fontFamily="sans-serif",this.titleFontSize="normal",this.titleColor="black",this.titleHorizontalPosition="center",this.titleVerticalPosition="top",this.maxValue=null,this.minValue=null,this.axisTitleFontSize="smaller",this.axisLabelFontSize="small",this.xAxisTitle=null,this.xAxisTitleBottom=null,this.xAxisGridLineWidth=1,this.xAxisGridLineColor="#C0C0C0",this.xAxisGridLineDashArray="1 1",this.xAxisLabelColor="#A0A0A0",this.xAxisTitleColor="#A0A0A0",this.xAxisGrid=!0,this.xAxisGridPadding=0,this.xAxisLabels=!0,this.xAxisGridColumns=!1,this.xAxisGridColumnsSelectable=!1,this.xAxisGridSelectedColumnOpacity=.2,this.xAxisGridColumnsSelectableColor="black",this.textAnchorXAxisLabels="middle",this.xAxisLabelTop=10,this.xAxisLabelRotation=0,this.xAxisStep=1,this.xAxisLabelStep=1,this.yAxisTitle=null,this.yAxisTitleStart=null,this.yAxisGridLineWidth=1,this.yAxisGridLineColor="#C0C0C0",this.yAxisGridLineDashArray="1 1",this.yAxisLabelColor="#A0A0A0",this.yAxisTitleColor="#A0A0A0",this.yAxisStep=10,this.yAxisLabelStep=10,this.yAxisGrid=!0,this.yAxisLabels=!0,this.yAxisGridPadding=0,this.legendFontSize="smaller",this.legendColor="black",this.legendCircle=!1,this.legend=!0,this.legendSelect=!0,this.legendPosition="top",this.legendBottom=null,this.legendTop=null,this.lineWidth=2,this.pointRadius=2,this.connectNullValues=!1,this.lineCurved=!0,this.lineChartFilled=!1,this.points=!0,this.barFillOpacity=.5,this.barSpacing=4,this.barStrokeWidth=1,this.barStacked=!1,this.pieFillOpacity=.6,this.donutWidth=null,this.pieStroke="white",this.pieStrokeWidth=2,this.donutStroke="white",this.donutStrokeWidth=2}}W.directions={ltr:"ltr",rtl:"rtl"},W.chartTypes={line:"line",bar:"bar",pie:"pie",donut:"donut",lineAndBar:"lineAndBar"};var B,V=function(t,i,e,s){if("a"===e&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!s:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?s:"a"===e?s.call(t):s?s.value:i.get(t)};class N extends c{constructor(t){super(t),B.set(this,null),function(t,i,e,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!n:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");"a"===s?n.call(t,e):n?n.value=e:i.set(t,e)}(this,B,new A(t),"f")}drawSerie(t,i,e){h(this,this.svgChart.data.series[t.id],this.svgChart.isLTR,(function(s,n){var r=null,h=null,l=null;this.config.barStacked?(this.stackedBarValues[n]||(this.stackedBarValues[n]=this.config.minValue),r=this.config.padding.left+this.config.xAxisGridPadding+n*this.svgChart.columnWidth+this.config.barSpacing,h=this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight-s*this.svgChart.lineAndBarValueHeight-this.stackedBarValues[n]*this.svgChart.lineAndBarValueHeight,l=this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight-s*this.svgChart.lineAndBarValueHeight,this.stackedBarValues[n]=this.stackedBarValues[n]+=s):(r=this.config.padding.left+this.config.xAxisGridPadding+n*this.svgChart.columnWidth+this.barWidth*this.currentBarIndex+this.config.barSpacing*(this.currentBarIndex+1),isNaN(r)&&console.log(this.currentBarIndex),l=h=this.config.padding.top+this.config.yAxisGridPadding+this.svgChart.chartHeight-s*this.svgChart.lineAndBarValueHeight),e.appendChild(a("rect",{x:r,y:h,width:this.barWidth,height:this.svgChart.chartHeight+this.config.padding.top+this.config.yAxisGridPadding-l,fill:this.svgChart.getSerieFill(t,i),className:o("bar"),fillOpacity:this.config.barFillOpacity||"",strokeWidth:this.config.barStrokeWidth||0,stroke:this.svgChart.getSerieStrokeColor(t,i),dataValue:s,tabindex:this.config.focusedValueShow?0:null}))})),this.currentBarIndex+=1}drawStart(t){y(this.svgChart,V(this,B,"f"));const i=(this.svgChart.columnWidth-this.config.barSpacing*(this.svgChart.barCountPerColumn+1))/(this.svgChart.barCountPerColumn||1);this.barWidth=i,this.currentBarIndex=0,this.stackedBarValues={}}configBefore(){super.configBefore(),w(this.svgChart,V(this,B,"f"))}configSerieBefore(t){super.configSerieBefore(t),this.config.barStacked||t.type!==W.chartTypes.bar&&this.config.chartType!==W.chartTypes.bar||(this.svgChart.barCountPerColumn+=1)}}B=new WeakMap,N.requiredConfigWithValue={xAxisGridColumns:!0};var F,R,D=function(t,i,e,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!n:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,e):n?n.value=e:i.set(t,e),e},O=function(t,i,e,s){if("a"===e&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!s:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?s:"a"===e?s.call(t):s?s.value:i.get(t)};class H extends c{constructor(t){super(t),F.set(this,null),R.set(this,null),D(this,R,new N(t),"f"),D(this,F,new P(t),"f")}drawSerie(t,i,e){switch(t.type||(this.config.chartType===W.chartTypes.lineAndBar?W.chartTypes.line:this.config.chartType)){case W.chartTypes.line:O(this,F,"f").drawSerie(t,i,e);break;case W.chartTypes.bar:O(this,R,"f").drawSerie(t,i,e)}}drawStart(t){O(this,R,"f").drawStart(t)}configBefore(){O(this,R,"f").configBefore()}configSerieBefore(t){O(this,R,"f").configSerieBefore(t)}}function M(t,i,e){var s=t.chartHeight/2,n=t.width/2,r=t.chartHeight/2+t.config.padding.top,h=0;for(let i in t.data.series)h+=t.data.series[i];var l=360/h,d=0;t.config.series.forEach((function(h,c){var g=a("g",{dataSerie:h.id,className:t.unselectedSeries[h.id]?o("unselected"):""});const f=t.data.series[h.id];var u=e(n,r,s,d*l,(d+=f)*l);g.appendChild(a("path",{d:u.join(" "),fill:t.getSerieFill(h,c),fillOpacity:t.config.pieFillOpacity||1,className:o("pie-piece"),tabindex:0,stroke:t.config[t.config.chartType+"Stroke"],strokeWidth:t.config[t.config.chartType+"StrokeWidth"],dataValue:f})),i.appendChild(g)}))}F=new WeakMap,R=new WeakMap,H.requiredConfigWithValue={xAxisGridColumns:!0};var j,$,z,I,X,q,Y,U,Z,Q,_,J,K,tt,it,et,st,nt,at,rt,ot,ht,lt,dt,ct,gt=function(t,i,e,s,n){if("m"===s)throw new TypeError("Private method is not writable");if("a"===s&&!n)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof i?t!==i||!n:!i.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===s?n.call(t,e):n?n.value=e:i.set(t,e),e},ft=function(t,i,e,s){if("a"===e&&!s)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof i?t!==i||!s:!i.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===e?s:"a"===e?s.call(t):s?s.value:i.get(t)};class ut{static setActiveColorPalette(t){gt(ut,$,t,"f",I)}constructor(t,i){if(j.add(this),q.set(this,void 0),Y.set(this,void 0),U.set(this,void 0),Z.set(this,null),Q.set(this,null),_.set(this,null),J.set(this,null),K.set(this,null),tt.set(this,void 0),!ft(ut,$,"f",z)){gt(ut,$,!0,"f",z);const i=["."+o("line-point")+", g."+o("legend-group")+" g, ."+o("x-axis-grid-column-selectable-label")+" { cursor: pointer; }","."+o("line-point")+":hover, circle."+o("line-point")+":focus { stroke-width: 6; outline: none; }","#"+o("serie-group")+" g { transition: opacity 0.6s; }","#"+o("serie-group")+" g."+o("unselected")+" { opacity: 0; }","#"+o("serie-group-current")+" { transition: opacity 1s; opacity: 1; }","#"+o("serie-group-current")+"."+o("unattached")+" { opacity: 0; }","g."+o("legend-group")+" g."+o("unselected")+" { opacity: 0.4; }","rect."+o("bar")+":hover, path."+o("pie-piece")+":hover { fill-opacity: 0.7; }","path."+o("pie-piece")+":focus, rect."+o("bar")+":focus { outline: none; fill-opacity:1; }"];t.ownerDocument.head.appendChild(document.createElement("style")).innerHTML=i.join("\n")}const e=t.getBoundingClientRect();this.width=e.width,this.height=e.height,this.svg=a("svg",{width:this.width,height:this.height}),t.appendChild(this.svg),this.setConfig(i)}setConfig(t){const i=new W;for(this.config=Object.assign({},i,t),this.config.padding=Object.assign({},i.padding,this.config.padding),this.isLTR=this.config.dir===W.directions.ltr,this.config=Object.assign(this.config,ft(ut,$,"f",X)[this.config.chartType].requiredConfigWithValue),this.isLTR?(this.config.padding.left=this.config.padding.start,this.config.padding.right=this.config.padding.end):(this.config.padding.left=this.config.padding.end,this.config.padding.right=this.config.padding.start),this.controller=new(ft(ut,$,"f",X)[t.chartType])(this),this.svg.setAttribute("direction",this.config.dir),ft(this,tt,"f")&&ft(this,tt,"f").length&&ft(this,tt,"f").forEach((t=>{t.node.removeEventListener(t.eventName,t.callback,t.capture)})),gt(this,tt,[],"f");this.svg.childNodes.length;)this.svg.firstChild.remove();this.data=null,this.unselectedSeries={},this.chartWidth=this.width-this.config.padding.start-this.config.padding.end-2*this.config.xAxisGridPadding,this.chartHeight=this.height-this.config.padding.top-this.config.padding.bottom-2*this.config.yAxisGridPadding,this.config.backgroundColor&&(this.svg.style.backgroundColor=this.config.backgroundColor),gt(this,q,a("defs"),"f"),this.svg.appendChild(ft(this,q,"f")),ft(this,_,"f")||gt(this,_,ft(this,j,"m",lt).bind(this),"f"),this.config.drawOnConfig&&(gt(this,Y,a("g",{className:o("draw-on-config-group")}),"f"),this.svg.appendChild(ft(this,Y,"f"))),this.config.title&&ft(this,j,"m",st).call(this),this.config.legend&&ft(this,j,"m",et).call(this),this.controller.configBefore(),this.config.series.forEach((t=>{if(this.controller.configSerieBefore(t),t.fillGradient){var i=a("linearGradient",{id:t.id+"-gradient",x1:0,x2:0,y1:0,y2:1});i.appendChild(a("stop",{offset:"0%",stopColor:t.fillGradient[0]})),i.appendChild(a("stop",{offset:"100%",stopColor:t.fillGradient[1]})),ft(this,q,"f").appendChild(i)}this.controller.configSerieAfter(t)})),this.config.drawOnConfig&&this.config.drawOnConfig(this,ft(this,Y,"f")),this.config.drawOnData&&(gt(this,U,a("g",{className:o("draw-on-data-group")}),"f"),this.svg.appendChild(ft(this,U,"f"))),ft(this,j,"m",it).call(this),this.controller.configAfter()}chart(t=null){null!==t&&(this.data=t);const i=ft(this,j,"m",nt).call(this);this.controller.draw(i),ft(this,j,"m",at).call(this,i),this.config.drawOnData&&this.config.drawOnData(this,ft(this,U,"f"))}saveAsPng(t){var i=this.svg.getBoundingClientRect(),e=document.createElement("canvas");e.setAttribute("width",i.width.toString()),e.setAttribute("height",i.height.toString());var s=e.getContext("2d");s.fillStyle=this.svg.style.backgroundColor,s.clearRect(0,0,e.width,e.height),s.fillRect(0,0,e.width,e.height);var n=new Image,a='<svg xmlns="http://www.w3.org/2000/svg">'+this.svg.innerHTML+"</svg>",r=(new DOMParser).parseFromString(a,"text/xml").getElementsByTagName("svg")[0];r.setAttribute("width",i.width.toString()),r.setAttribute("height",i.height.toString());var o="data:image/svg+xml;base64,"+btoa((new XMLSerializer).serializeToString(r));n.onload=function(){s.drawImage(n,0,0,i.width,i.height),window.URL.revokeObjectURL(o);var a=e.toDataURL("image/png");const r=document.createElement("a");r.href=a,r.download=t,r.click(),r.remove()},n.src=o}getSeriePropertyColor(t,i,e){for(var s=0;s<t.length;s++){var n=t[s];if(i[n])return"fillGradient"===n?`url(#${i.id}-gradient)`:i[n]}return i.color?i.color:ft(ut,$,"f",I)[e]}getSeriePointColor(t,i){return this.getSeriePropertyColor(["pointColor","strokeColor"],t,i)}getSerieStrokeColor(t,i){return this.getSeriePropertyColor(["strokeColor"],t,i)}getSerieFill(t,i){return this.getSeriePropertyColor(["fillGradient"],t,i)}addEventListener(t,i,e,s){t.addEventListener(i,e,s),ft(this,tt,"f").push({node:t,eventName:i,callback:e,capture:s})}}return $=ut,q=new WeakMap,Y=new WeakMap,U=new WeakMap,Z=new WeakMap,Q=new WeakMap,_=new WeakMap,J=new WeakMap,K=new WeakMap,tt=new WeakMap,j=new WeakSet,it=function(){this.serieGroupElement=a("g",{id:o("serie-group")}),this.svg.appendChild(this.serieGroupElement),this.addEventListener(this.serieGroupElement,"transitionend",ft(this,_,"f"),!1),this.config.focusedValueShow&&(ft(this,J,"f")||(gt(this,J,ft(this,j,"m",ct).bind(this),"f"),gt(this,K,ft(this,j,"m",dt).bind(this),"f")),this.addEventListener(this.serieGroupElement,"focus",ft(this,J,"f"),!0),this.addEventListener(this.serieGroupElement,"blur",ft(this,K,"f"),!0),this.valueElGroup=a("g",{className:o("value-element-group")}),this.valueElRect=a("rect",{fill:this.config.focusedValueFill||"black"}),this.valueElText=a("text",{direction:this.config.dir,textAnchor:"middle",dominantBaseline:"middle",fontFamily:this.config.fontFamily,fontSize:"smaller",fill:this.config.focusedValueColor||"white"},document.createTextNode("")),this.valueElGroup.appendChild(this.valueElRect),this.valueElGroup.appendChild(this.valueElText))},et=function(){const t=a("g",{className:o("legend-group")});if(this.config.legendSelect&&(ft(this,Z,"f")||(gt(this,Z,ft(this,j,"m",ht).bind(this),"f"),gt(this,Q,ft(this,j,"m",ot).bind(this),"f")),this.addEventListener(t,"keydown",ft(this,Q,"f"),!1),this.addEventListener(t,"click",ft(this,Z,"f"),!1)),this.config.series.forEach((function(i,e){const s=a("g",{dataSerie:i.id,tabindex:this.config.legendSelect?0:null});let n=0,r=0;switch(this.config.legendPosition){case"top":r=this.config.legendTop?this.config.legendTop:this.config.padding.top/2;break;case"bottom":r=this.config.legendBottom?this.config.legendBottom:this.height-this.config.padding.bottom/2;break;case"end":this.isLTR?(n=this.config.padding.start+this.chartWidth+2*this.config.xAxisGridPadding+this.config.paddingDefault,r=this.config.padding.top+this.config.yAxisGridPadding+e*this.config.paddingDefault):(n=2*this.config.xAxisGridPadding+this.config.padding.end-this.config.paddingDefault-this.config.legendWidth,r=this.config.padding.top+this.config.yAxisGridPadding+e*this.config.paddingDefault)}const o=a("rect",{x:n,y:r,rx:this.config.legendCircle?this.config.legendWidth:0,ry:this.config.legendCircle?this.config.legendWidth:0,width:this.config.legendWidth,height:this.config.legendWidth,fill:this.getSerieFill(i,e)}),h=a("text",{direction:this.config.dir,x:this.isLTR?n+2*this.config.legendWidth:n-this.config.legendWidth,y:r+this.config.legendWidth/2+1,textAnchor:"start",dominantBaseline:"middle",fontFamily:this.config.fontFamily,fill:this.config.legendColor,fontSize:this.config.legendFontSize},document.createTextNode(i.title));this.isLTR?(s.appendChild(o),s.appendChild(h)):(s.appendChild(h),s.appendChild(o)),t.appendChild(s)}),this),this.svg.appendChild(t),["top","bottom"].indexOf(this.config.legendPosition)>-1){let i=0,e=this.isLTR?0:this.width-this.config.legendWidth;t.querySelectorAll("g").forEach((function(t){const s=t.getBBox();t.querySelector("rect").setAttribute("x",e.toString()),t.querySelector("text").setAttribute("x",(this.isLTR?e+2*this.config.legendWidth:e-10).toString()),this.isLTR?e+=s.width+this.config.paddingDefault:e-=s.width+this.config.paddingDefault,i+=s.width+this.config.paddingDefault}),this),this.isLTR?(e-=this.config.paddingDefault,t.setAttribute("transform","translate("+(this.width/2-e/2)+", 0)")):(i-=this.config.paddingDefault,t.setAttribute("transform","translate(-"+(this.width/2-i/2)+", 0)"))}},st=function(){var t,i,e=null;switch(this.config.titleHorizontalPosition){case"end":t=this.width-this.config.paddingDefault,e=this.isLTR?"end":"start";break;case"start":t=this.config.paddingDefault,e=this.isLTR?"start":"end";break;default:t=this.width/2,e="middle"}switch(this.config.titleVerticalPosition){case"center":this.height,i="middle";break;case"bottom":this.height,this.config.paddingDefault,i="auto";break;default:this.config.paddingDefault,i="hanging"}this.svg.appendChild(a("text",{direction:this.config.dir,x:t,y:this.config.paddingDefault,textAnchor:e,dominantBaseline:i,fontFamily:this.config.fontFamily,fontSize:this.config.titleFontSize,fill:this.config.titleColor,className:o("text-title")},document.createTextNode(this.config.title)))},nt=function(){return this.serieGroupElement.firstChild&&this.serieGroupElement.firstChild.remove(),a("g",{id:o("serie-group-current"),className:this.config.transition?o("unattached"):""})},at=function(t){this.serieGroupElement.appendChild(t).getBoundingClientRect(),this.config.transition&&t.classList.remove(o("unattached"))},rt=function(t){var i=r(t,"g");if(i&&i.dataset.serie){var e=this.serieGroupElement.querySelector('g[data-serie="'+i.dataset.serie+'"]');this.unselectedSeries[i.dataset.serie]?(e&&(e.setAttribute("display","inline"),e.classList.remove(o("unselected"))),i.classList.remove(o("unselected")),delete this.unselectedSeries[i.dataset.serie]):(i.classList.add(o("unselected")),e&&e.classList.add(o("unselected")),this.unselectedSeries[i.dataset.serie]=!0)}},ot=function(t){"Enter"===t.key&&ft(this,j,"m",rt).call(this,t.target)},ht=function(t){ft(this,j,"m",rt).call(this,t.target)},lt=function(t){t.target.classList.contains(o("unselected"))&&t.target.setAttribute("display","none")},dt=function(t){r(t.target,"g").dataset.serie&&this.serieGroupElement.removeChild(this.valueElGroup)},ct=function(t){var i=t.target,e=r(i,"g").dataset.serie;if(e){var s=this.config.series.find((t=>t.id===e));this.valueElText.replaceChild(document.createTextNode(s.title+": "+i.dataset.value),this.valueElText.firstChild),this.serieGroupElement.appendChild(this.valueElGroup);var n=this.valueElText.getBBox(),a=n.width+2*this.config.focusedValuePadding,o=n.height+2*this.config.focusedValuePadding;this.valueElRect.setAttribute("width",a.toString()),this.valueElRect.setAttribute("height",o.toString()),this.valueElText.setAttribute("x",(a/2).toString()),this.valueElText.setAttribute("y",(o/2).toString());var h,l=null;switch(s.type||this.config.chartType){case"line":case"bar":case"lineAndBar":h=(i.getAttribute("cx")||parseFloat(i.getAttribute("x"))+i.getAttribute("width")/2)-a/2,l=(i.getAttribute("cy")||i.getAttribute("y"))-10-o;break;case"pie":case"donut":var d=i.getAttribute("d").split(" ");h=d[1].trim(),l=d[2].trim()}this.valueElGroup.setAttribute("transform","translate("+h+", "+l+")")}},ut.colorPalettes=d,z={value:!1},I={value:d.dutchFieldColorPalette},X={value:{line:P,bar:N,lineAndBar:H,pie:class extends c{draw(t){M(this.svgChart,t,(function(t,i,e,s,n){return function(t,i,e,s,n){var a=l(t,i,e,n),r=l(t,i,e,s),o=n-s<=180?"0":"1";return["M",a.x,a.y,"A",e,e,0,o,0,r.x,r.y,"L",t,i,"L",a.x,a.y]}(t,i,e,s,n)}))}},donut:class extends c{draw(t){const i=this.config.donutWidth||this.svgChart.chartHeight/4;M(this.svgChart,t,(function(t,e,s,n,a){return function(t,i,e,s,n,a){var r=l(t,i,e,a),o=l(t,i,e,n),h=l(t,i,e+s,a),d=l(t,i,e+s,n),c=a-n<=180?"0":"1";return["M",h.x,h.y,"A",e+s,e+s,0,c,0,d.x,d.y,"L",o.x,o.y,"A",e,e,0,c,1,r.x,r.y,"L",h.x,h.y,"Z"]}(t,e,s-i,i,n,a)}))}}}},ut.prototype.el=a,i})()));